<% include ./partials/header %>

  <h4 class="display-4">Add Service</h4>
  <button class="btn btn-success btn-lg" data-toggle="modal" data-target="#addService">Add Service</button>
  <% var counter = 0 %>
  <% if(services.length > 0) { %>
    <h5 class="display-5 text-center mt-3">List of Services</h5>
    <table class="table table-striped table-hover mt-2">
      <thead>
        <tr>
            <th>#</th>
            <th>Service Name</th>
            <th>Price</th>
            <th colspan="2">Actions</th>
        </tr>
    </thead>
    <tbody>
      <% services.forEach(service => { %>
        <tr>
            <th><%= (counter+1) %></th>
            <td><%= service.name %></td>
            <td>&#8369; <%= service.price %></td>
            <td><button class="btn btn-sm btn-warning" data-toggle="modal" data-target="#<%= service._id %>">Edit Service</button></td>
            <td><a href="/services/delete-service/<%= service._id %>" class="btn btn-sm btn-danger">Delete Service</a></td>
        </tr>
        <% counter++ %>
      <% }) %>
    </tbody>
  </table>

  <% } else {%>
    <h4 class="display-1 text-center">No Services</h4>
  <% } %>

  

    <!-- Add Service Modal -->
    <div class="modal" id="addService">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-center">Add Service</h5>
            <button class="close" data-dismiss="modal">&times;</button>
          </div>
          <form action="/services/add-service" method="POST">
            <div class="modal-body">
              
                <div class="form-group">
                  <label for="name">Name of Service</label>
                  <input type="text" name="name" id="name" placeholder="Service name" class="form-control">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">&#8369;</span>
                  <input type="text" name="price" id="price" class="form-control" placeholder="Price">
                </div>
              
            </div>
            <div class="modal-footer">
              <button class="btn btn-success" type="submit">Add Service</button>
              <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
            </div>
        </form>
        </div>
      </div>
    </div>

    <!-- Edit Service Modal -->
    <% if(services.length > 0) { %>
      <% services.forEach(service => {%>
      <div class="modal" id="<%= service._id %>">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center">Edit <%= service.name %> service</h5>
              <button class="close" data-dismiss="modal">&times;</button>
            </div>
            <form action="/services/edit-service/<%= service._id %>" method="POST">
              <div class="modal-body">
                
                  <div class="form-group">
                    <label for="name">Name of Service</label>
                    <input type="text" name="name" id="name" value="<%= service.name %>" placeholder="Service name" class="form-control">
                  </div>
                  <div class="input-group">
                    <span class="input-group-addon">&#8369;</span>
                    <input type="text" name="price" id="price" value="<%= service.price %>" class="form-control" placeholder="Price">
                  </div>
                
              </div>
              <div class="modal-footer">
                <button class="btn btn-success" type="submit">Edit Service</button>
                <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
              </div>
          </form>
          </div>
        </div>
      </div>
      <div class="modal" id="<%= service._id %>">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center">Edit <%= service.name %> service</h5>
              <button class="close" data-dismiss="modal">&times;</button>
            </div>
            <form action="/services/edit-service/<%= service._id %>" method="POST">
              <div class="modal-body">
                
                  <div class="form-group">
                    <label for="name">Name of Service</label>
                    <input type="text" name="name" id="name" value="<%= service.name %>" placeholder="Service name" class="form-control">
                  </div>
                  <div class="input-group">
                    <span class="input-group-addon">&#8369;</span>
                    <input type="text" name="price" id="price" value="<%= service.price %>" class="form-control" placeholder="Price">
                  </div>
                
              </div>
              <div class="modal-footer">
                <button class="btn btn-success" type="submit">Edit Service</button>
                <button class="btn btn-danger" data-dismiss="modal">Cancel</button>
              </div>
          </form>
          </div>
        </div>
      </div>
      <% }) %>
    <% } %>


<% include ./partials/footer %>
